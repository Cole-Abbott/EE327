<!DOCTYPE html>
<html>

<head>
    <title>RC Car Control</title>
    <style>
        /* Add your CSS styles here */
    </style>
</head>

<body>
    <h1>RC Car Control</h1>

    <div id="controls">
        <!-- Add your control buttons here -->
        <button id="forwardButton">Forward</button>
        <button id="backwardButton">Backward</button>
        <button id="leftButton">Left</button>
        <button id="rightButton">Right</button>
        <button id="stopButton">Stop</button>
    </div>

    <script>
        // JavaScript code for WebSocket communication
        const ipAddress = '10.105.1.116'; // Replace with your desired IP address
        const socket = new WebSocket(`ws://${ipAddress}:8888/websocket`);
        // const socket = new WebSocket('ws://localhost:8888/websocket');

        socket.onopen = function () {
            console.log('WebSocket connection established.');
        };

        socket.onmessage = function (event) {
            const message = event.data;
            console.log('Message received: ' + message);
        };

        function sendCommand(command) {
            socket.send(command);
        }

        // Event listeners for button clicks
        document.getElementById("forwardButton").addEventListener("click", function () {
            sendCommand("forward");
        });

        document.getElementById("backwardButton").addEventListener("click", function () {
            sendCommand("backward");
        });

        document.getElementById("leftButton").addEventListener("click", function () {
            sendCommand("left");
        });

        document.getElementById("rightButton").addEventListener("click", function () {
            sendCommand("right");
        });
        document.getElementById("stopButton").addEventListener("click", function () {
            sendCommand("stop");
        });

    </script>
</body>

</html>